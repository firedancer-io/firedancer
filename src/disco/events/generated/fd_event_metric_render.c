/* THIS FILE IS GENERATED BY gen_events.py. DO NOT HAND EDIT. */

#include "fd_event_metric_render.h"
#include "../../metrics/fd_metrics.h"
#include "../../metrics/generated/fd_metrics_all.h"
#include "../../../ballet/pb/fd_pb_encode.h"

#define RENDER(field_id, type, name) do { \
    ulong _val = tile_metrics[ FD_METRICS_##type##_##name ]; \
    if( FD_LIKELY( _val ) ) { \
      if( FD_UNLIKELY( !fd_pb_push_uint64( enc, (field_id), _val ) ) ) return -1; \
    } \
  } while(0)

#define FD_EVENT_FIELD_NET (100U)
#define FD_EVENT_FIELD_QUIC (101U)
#define FD_EVENT_FIELD_BUNDLE (102U)
#define FD_EVENT_FIELD_VERIFY (103U)
#define FD_EVENT_FIELD_DEDUP (104U)
#define FD_EVENT_FIELD_PACK (106U)
#define FD_EVENT_FIELD_POH (108U)
#define FD_EVENT_FIELD_SHRED (109U)
#define FD_EVENT_FIELD_SIGN (111U)
#define FD_EVENT_FIELD_METRIC (112U)
#define FD_EVENT_FIELD_DIAG (113U)
#define FD_EVENT_FIELD_EVENT (114U)
#define FD_EVENT_FIELD_GUI (116U)
#define FD_EVENT_FIELD_REPLAY (117U)
#define FD_EVENT_FIELD_GOSSIP (118U)
#define FD_EVENT_FIELD_NETLNK (119U)
#define FD_EVENT_FIELD_SOCK (120U)
#define FD_EVENT_FIELD_REPAIR (121U)
#define FD_EVENT_FIELD_SEND (122U)
#define FD_EVENT_FIELD_SNAPCT (123U)
#define FD_EVENT_FIELD_SNAPLD (124U)
#define FD_EVENT_FIELD_SNAPDC (125U)
#define FD_EVENT_FIELD_SNAPIN (126U)
#define FD_EVENT_FIELD_IPECHO (127U)
#define FD_EVENT_FIELD_GOSSVF (128U)
#define FD_EVENT_FIELD_BANKF (129U)
#define FD_EVENT_FIELD_RESOLF (130U)
#define FD_EVENT_FIELD_EXEC (132U)
#define FD_EVENT_FIELD_SNAPWR (133U)
#define FD_EVENT_FIELD_SNAPWH (135U)
#define FD_EVENT_FIELD_SNAPLA (136U)
#define FD_EVENT_FIELD_SNAPLS (137U)
#define FD_EVENT_FIELD_TOWER (138U)
#define FD_EVENT_FIELD_ACCDB (139U)
#define FD_EVENT_FIELD_SNAPWM (140U)
#define FD_EVENT_FIELD_SNAPLH (141U)
#define FD_EVENT_FIELD_SNAPLV (142U)
#define FD_EVENT_FIELD_GENESI (143U)
#define FD_EVENT_FIELD_RPC (144U)

static int
render_metrics_net( fd_pb_encoder_t *      enc,
                    ulong                  sample_id,
                    uint                   sample_reason,
                    ulong                  sample_slot,
                    ulong                  kind_id,
                    ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, NET_RX_PKT_CNT_OFF );
  RENDER( 4U, COUNTER, NET_RX_BYTES_TOTAL_OFF );
  RENDER( 5U, COUNTER, NET_RX_UNDERSZ_CNT_OFF );
  RENDER( 6U, COUNTER, NET_RX_FILL_BLOCKED_CNT_OFF );
  RENDER( 7U, COUNTER, NET_RX_BACKPRESSURE_CNT_OFF );
  RENDER( 8U, GAUGE, NET_RX_BUSY_CNT_OFF );
  RENDER( 9U, GAUGE, NET_RX_IDLE_CNT_OFF );
  RENDER( 10U, COUNTER, NET_TX_SUBMIT_CNT_OFF );
  RENDER( 11U, COUNTER, NET_TX_COMPLETE_CNT_OFF );
  RENDER( 12U, COUNTER, NET_TX_BYTES_TOTAL_OFF );
  RENDER( 13U, COUNTER, NET_TX_ROUTE_FAIL_CNT_OFF );
  RENDER( 14U, COUNTER, NET_TX_NEIGHBOR_FAIL_CNT_OFF );
  RENDER( 15U, COUNTER, NET_TX_FULL_FAIL_CNT_OFF );
  RENDER( 16U, GAUGE, NET_TX_BUSY_CNT_OFF );
  RENDER( 17U, GAUGE, NET_TX_IDLE_CNT_OFF );
  RENDER( 18U, COUNTER, NET_XSK_TX_WAKEUP_CNT_OFF );
  RENDER( 19U, COUNTER, NET_XSK_RX_WAKEUP_CNT_OFF );
  RENDER( 20U, COUNTER, NET_XDP_RX_DROPPED_OTHER_OFF );
  RENDER( 21U, COUNTER, NET_XDP_RX_INVALID_DESCS_OFF );
  RENDER( 22U, COUNTER, NET_XDP_TX_INVALID_DESCS_OFF );
  RENDER( 23U, COUNTER, NET_XDP_RX_RING_FULL_OFF );
  RENDER( 24U, COUNTER, NET_XDP_RX_FILL_RING_EMPTY_DESCS_OFF );
  RENDER( 25U, COUNTER, NET_XDP_TX_RING_EMPTY_DESCS_OFF );
  RENDER( 26U, COUNTER, NET_RX_GRE_CNT_OFF );
  RENDER( 27U, COUNTER, NET_RX_GRE_INVALID_CNT_OFF );
  RENDER( 28U, COUNTER, NET_RX_GRE_IGNORED_CNT_OFF );
  RENDER( 29U, COUNTER, NET_TX_GRE_CNT_OFF );
  RENDER( 30U, COUNTER, NET_TX_GRE_ROUTE_FAIL_CNT_OFF );
  return 0;
}

static int
render_metrics_quic( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, QUIC_TXNS_OVERRUN_OFF );
  RENDER( 4U, COUNTER, QUIC_TXN_REASMS_STARTED_OFF );
  RENDER( 5U, GAUGE, QUIC_TXN_REASMS_ACTIVE_OFF );
  RENDER( 6U, COUNTER, QUIC_FRAGS_OK_OFF );
  RENDER( 7U, COUNTER, QUIC_FRAGS_GAP_OFF );
  RENDER( 8U, COUNTER, QUIC_FRAGS_DUP_OFF );
  /* Field 9: txns_received (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 9U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_TXNS_RECEIVED_UDP_OFF );
  RENDER( 2U, COUNTER, QUIC_TXNS_RECEIVED_QUIC_FAST_OFF );
  RENDER( 3U, COUNTER, QUIC_TXNS_RECEIVED_QUIC_FRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 10U, COUNTER, QUIC_TXNS_ABANDONED_OFF );
  RENDER( 11U, COUNTER, QUIC_TXN_UNDERSZ_OFF );
  RENDER( 12U, COUNTER, QUIC_TXN_OVERSZ_OFF );
  RENDER( 13U, COUNTER, QUIC_LEGACY_TXN_UNDERSZ_OFF );
  RENDER( 14U, COUNTER, QUIC_LEGACY_TXN_OVERSZ_OFF );
  RENDER( 15U, COUNTER, QUIC_RECEIVED_PACKETS_OFF );
  RENDER( 16U, COUNTER, QUIC_RECEIVED_BYTES_OFF );
  RENDER( 17U, COUNTER, QUIC_SENT_PACKETS_OFF );
  RENDER( 18U, COUNTER, QUIC_SENT_BYTES_OFF );
  RENDER( 19U, GAUGE, QUIC_CONNECTIONS_ALLOC_OFF );
  /* Field 20: connections_state (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 20U ) ) ) return -1;
  RENDER( 1U, GAUGE, QUIC_CONNECTIONS_STATE_INVALID_OFF );
  RENDER( 2U, GAUGE, QUIC_CONNECTIONS_STATE_HANDSHAKE_OFF );
  RENDER( 3U, GAUGE, QUIC_CONNECTIONS_STATE_HANDSHAKE_COMPLETE_OFF );
  RENDER( 4U, GAUGE, QUIC_CONNECTIONS_STATE_ACTIVE_OFF );
  RENDER( 5U, GAUGE, QUIC_CONNECTIONS_STATE_PEER_CLOSE_OFF );
  RENDER( 6U, GAUGE, QUIC_CONNECTIONS_STATE_ABORT_OFF );
  RENDER( 7U, GAUGE, QUIC_CONNECTIONS_STATE_CLOSE_PENDING_OFF );
  RENDER( 8U, GAUGE, QUIC_CONNECTIONS_STATE_DEAD_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 21U, COUNTER, QUIC_CONNECTIONS_CREATED_OFF );
  RENDER( 22U, COUNTER, QUIC_CONNECTIONS_CLOSED_OFF );
  RENDER( 23U, COUNTER, QUIC_CONNECTIONS_ABORTED_OFF );
  RENDER( 24U, COUNTER, QUIC_CONNECTIONS_TIMED_OUT_OFF );
  RENDER( 25U, COUNTER, QUIC_CONNECTIONS_RETRIED_OFF );
  RENDER( 26U, COUNTER, QUIC_CONNECTION_ERROR_NO_SLOTS_OFF );
  RENDER( 27U, COUNTER, QUIC_CONNECTION_ERROR_RETRY_FAIL_OFF );
  /* Field 28: pkt_no_conn (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 28U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_PKT_NO_CONN_INITIAL_OFF );
  RENDER( 2U, COUNTER, QUIC_PKT_NO_CONN_RETRY_OFF );
  RENDER( 3U, COUNTER, QUIC_PKT_NO_CONN_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, QUIC_PKT_NO_CONN_ONE_RTT_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 29: frame_tx_alloc (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 29U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_FRAME_TX_ALLOC_SUCCESS_OFF );
  RENDER( 2U, COUNTER, QUIC_FRAME_TX_ALLOC_FAIL_EMPTY_POOL_OFF );
  RENDER( 3U, COUNTER, QUIC_FRAME_TX_ALLOC_FAIL_CONN_MAX_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 30: initial_token_len (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 30U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_INITIAL_TOKEN_LEN_ZERO_OFF );
  RENDER( 2U, COUNTER, QUIC_INITIAL_TOKEN_LEN_FD_QUIC_LEN_OFF );
  RENDER( 3U, COUNTER, QUIC_INITIAL_TOKEN_LEN_INVALID_LEN_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 31U, COUNTER, QUIC_HANDSHAKES_CREATED_OFF );
  RENDER( 32U, COUNTER, QUIC_HANDSHAKE_ERROR_ALLOC_FAIL_OFF );
  RENDER( 33U, COUNTER, QUIC_HANDSHAKE_EVICTED_OFF );
  RENDER( 34U, COUNTER, QUIC_STREAM_RECEIVED_EVENTS_OFF );
  RENDER( 35U, COUNTER, QUIC_STREAM_RECEIVED_BYTES_OFF );
  /* Field 36: received_frames (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 36U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_RECEIVED_FRAMES_UNKNOWN_OFF );
  RENDER( 2U, COUNTER, QUIC_RECEIVED_FRAMES_ACK_OFF );
  RENDER( 3U, COUNTER, QUIC_RECEIVED_FRAMES_RESET_STREAM_OFF );
  RENDER( 4U, COUNTER, QUIC_RECEIVED_FRAMES_STOP_SENDING_OFF );
  RENDER( 5U, COUNTER, QUIC_RECEIVED_FRAMES_CRYPTO_OFF );
  RENDER( 6U, COUNTER, QUIC_RECEIVED_FRAMES_NEW_TOKEN_OFF );
  RENDER( 7U, COUNTER, QUIC_RECEIVED_FRAMES_STREAM_OFF );
  RENDER( 8U, COUNTER, QUIC_RECEIVED_FRAMES_MAX_DATA_OFF );
  RENDER( 9U, COUNTER, QUIC_RECEIVED_FRAMES_MAX_STREAM_DATA_OFF );
  RENDER( 10U, COUNTER, QUIC_RECEIVED_FRAMES_MAX_STREAMS_OFF );
  RENDER( 11U, COUNTER, QUIC_RECEIVED_FRAMES_DATA_BLOCKED_OFF );
  RENDER( 12U, COUNTER, QUIC_RECEIVED_FRAMES_STREAM_DATA_BLOCKED_OFF );
  RENDER( 13U, COUNTER, QUIC_RECEIVED_FRAMES_STREAMS_BLOCKED_OFF );
  RENDER( 14U, COUNTER, QUIC_RECEIVED_FRAMES_NEW_CONN_ID_OFF );
  RENDER( 15U, COUNTER, QUIC_RECEIVED_FRAMES_RETIRE_CONN_ID_OFF );
  RENDER( 16U, COUNTER, QUIC_RECEIVED_FRAMES_PATH_CHALLENGE_OFF );
  RENDER( 17U, COUNTER, QUIC_RECEIVED_FRAMES_PATH_RESPONSE_OFF );
  RENDER( 18U, COUNTER, QUIC_RECEIVED_FRAMES_CONN_CLOSE_QUIC_OFF );
  RENDER( 19U, COUNTER, QUIC_RECEIVED_FRAMES_CONN_CLOSE_APP_OFF );
  RENDER( 20U, COUNTER, QUIC_RECEIVED_FRAMES_HANDSHAKE_DONE_OFF );
  RENDER( 21U, COUNTER, QUIC_RECEIVED_FRAMES_PING_OFF );
  RENDER( 22U, COUNTER, QUIC_RECEIVED_FRAMES_PADDING_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 37: ack_tx (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 37U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_ACK_TX_NOOP_OFF );
  RENDER( 2U, COUNTER, QUIC_ACK_TX_NEW_OFF );
  RENDER( 3U, COUNTER, QUIC_ACK_TX_MERGED_OFF );
  RENDER( 4U, COUNTER, QUIC_ACK_TX_DROP_OFF );
  RENDER( 5U, COUNTER, QUIC_ACK_TX_CANCEL_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 38U, COUNTER, QUIC_FRAME_FAIL_PARSE_OFF );
  /* Field 39: pkt_crypto_failed (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 39U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_PKT_CRYPTO_FAILED_INITIAL_OFF );
  RENDER( 2U, COUNTER, QUIC_PKT_CRYPTO_FAILED_EARLY_OFF );
  RENDER( 3U, COUNTER, QUIC_PKT_CRYPTO_FAILED_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, QUIC_PKT_CRYPTO_FAILED_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 40: pkt_no_key (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 40U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_PKT_NO_KEY_INITIAL_OFF );
  RENDER( 2U, COUNTER, QUIC_PKT_NO_KEY_EARLY_OFF );
  RENDER( 3U, COUNTER, QUIC_PKT_NO_KEY_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, QUIC_PKT_NO_KEY_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 41U, COUNTER, QUIC_PKT_NET_HEADER_INVALID_OFF );
  RENDER( 42U, COUNTER, QUIC_PKT_QUIC_HEADER_INVALID_OFF );
  RENDER( 43U, COUNTER, QUIC_PKT_UNDERSZ_OFF );
  RENDER( 44U, COUNTER, QUIC_PKT_OVERSZ_OFF );
  RENDER( 45U, COUNTER, QUIC_PKT_VERNEG_OFF );
  RENDER( 46U, COUNTER, QUIC_RETRY_SENT_OFF );
  /* Field 47: pkt_retransmissions (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 47U ) ) ) return -1;
  RENDER( 1U, COUNTER, QUIC_PKT_RETRANSMISSIONS_INITIAL_OFF );
  RENDER( 2U, COUNTER, QUIC_PKT_RETRANSMISSIONS_EARLY_OFF );
  RENDER( 3U, COUNTER, QUIC_PKT_RETRANSMISSIONS_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, QUIC_PKT_RETRANSMISSIONS_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_bundle( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, BUNDLE_TRANSACTION_RECEIVED_OFF );
  RENDER( 4U, COUNTER, BUNDLE_PACKET_RECEIVED_OFF );
  RENDER( 5U, COUNTER, BUNDLE_PROTO_RECEIVED_BYTES_OFF );
  RENDER( 6U, COUNTER, BUNDLE_BUNDLE_RECEIVED_OFF );
  /* Field 7: errors (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 7U ) ) ) return -1;
  RENDER( 1U, COUNTER, BUNDLE_ERRORS_PROTOBUF_OFF );
  RENDER( 2U, COUNTER, BUNDLE_ERRORS_TRANSPORT_OFF );
  RENDER( 3U, COUNTER, BUNDLE_ERRORS_TIMEOUT_OFF );
  RENDER( 4U, COUNTER, BUNDLE_ERRORS_NO_FEE_INFO_OFF );
  RENDER( 5U, COUNTER, BUNDLE_ERRORS_SSL_ALLOC_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 8U, GAUGE, BUNDLE_HEAP_SIZE_OFF );
  RENDER( 9U, GAUGE, BUNDLE_HEAP_FREE_BYTES_OFF );
  RENDER( 10U, COUNTER, BUNDLE_SHREDSTREAM_HEARTBEATS_OFF );
  RENDER( 11U, COUNTER, BUNDLE_KEEPALIVES_OFF );
  RENDER( 12U, GAUGE, BUNDLE_CONNECTED_OFF );
  RENDER( 13U, GAUGE, BUNDLE_RTT_SAMPLE_OFF );
  RENDER( 14U, GAUGE, BUNDLE_RTT_SMOOTHED_OFF );
  RENDER( 15U, GAUGE, BUNDLE_RTT_VAR_OFF );
  return 0;
}

static int
render_metrics_verify( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, VERIFY_TRANSACTION_BUNDLE_PEER_FAILURE_OFF );
  RENDER( 4U, COUNTER, VERIFY_TRANSACTION_PARSE_FAILURE_OFF );
  RENDER( 5U, COUNTER, VERIFY_TRANSACTION_DEDUP_FAILURE_OFF );
  RENDER( 6U, COUNTER, VERIFY_TRANSACTION_VERIFY_FAILURE_OFF );
  RENDER( 7U, COUNTER, VERIFY_GOSSIPED_VOTES_RECEIVED_OFF );
  return 0;
}

static int
render_metrics_dedup( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, DEDUP_TRANSACTION_BUNDLE_PEER_FAILURE_OFF );
  RENDER( 4U, COUNTER, DEDUP_TRANSACTION_DEDUP_FAILURE_OFF );
  RENDER( 5U, COUNTER, DEDUP_GOSSIPED_VOTES_RECEIVED_OFF );
  return 0;
}

static int
render_metrics_pack( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, PACK_NORMAL_TRANSACTION_RECEIVED_OFF );
  /* Field 4: transaction_inserted (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, COUNTER, PACK_TRANSACTION_INSERTED_NONCE_CONFLICT_OFF );
  RENDER( 2U, COUNTER, PACK_TRANSACTION_INSERTED_BUNDLE_BLACKLIST_OFF );
  RENDER( 3U, COUNTER, PACK_TRANSACTION_INSERTED_INVALID_NONCE_OFF );
  RENDER( 4U, COUNTER, PACK_TRANSACTION_INSERTED_WRITE_SYSVAR_OFF );
  RENDER( 5U, COUNTER, PACK_TRANSACTION_INSERTED_ESTIMATION_FAIL_OFF );
  RENDER( 6U, COUNTER, PACK_TRANSACTION_INSERTED_DUPLICATE_ACCOUNT_OFF );
  RENDER( 7U, COUNTER, PACK_TRANSACTION_INSERTED_TOO_MANY_ACCOUNTS_OFF );
  RENDER( 8U, COUNTER, PACK_TRANSACTION_INSERTED_TOO_LARGE_OFF );
  RENDER( 9U, COUNTER, PACK_TRANSACTION_INSERTED_EXPIRED_OFF );
  RENDER( 10U, COUNTER, PACK_TRANSACTION_INSERTED_ADDR_LUT_OFF );
  RENDER( 11U, COUNTER, PACK_TRANSACTION_INSERTED_UNAFFORDABLE_OFF );
  RENDER( 12U, COUNTER, PACK_TRANSACTION_INSERTED_DUPLICATE_OFF );
  RENDER( 13U, COUNTER, PACK_TRANSACTION_INSERTED_NONCE_PRIORITY_OFF );
  RENDER( 14U, COUNTER, PACK_TRANSACTION_INSERTED_PRIORITY_OFF );
  RENDER( 15U, COUNTER, PACK_TRANSACTION_INSERTED_NONVOTE_ADD_OFF );
  RENDER( 16U, COUNTER, PACK_TRANSACTION_INSERTED_VOTE_ADD_OFF );
  RENDER( 17U, COUNTER, PACK_TRANSACTION_INSERTED_NONVOTE_REPLACE_OFF );
  RENDER( 18U, COUNTER, PACK_TRANSACTION_INSERTED_VOTE_REPLACE_OFF );
  RENDER( 19U, COUNTER, PACK_TRANSACTION_INSERTED_NONCE_NONVOTE_ADD_OFF );
  RENDER( 20U, COUNTER, PACK_TRANSACTION_INSERTED_UNUSED_OFF );
  RENDER( 21U, COUNTER, PACK_TRANSACTION_INSERTED_NONCE_NONVOTE_REPLACE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 5: metric_timing (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, PACK_METRIC_TIMING_NO_TXN_NO_BANK_NO_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 2U, COUNTER, PACK_METRIC_TIMING_TXN_NO_BANK_NO_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 3U, COUNTER, PACK_METRIC_TIMING_NO_TXN_BANK_NO_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 4U, COUNTER, PACK_METRIC_TIMING_TXN_BANK_NO_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 5U, COUNTER, PACK_METRIC_TIMING_NO_TXN_NO_BANK_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 6U, COUNTER, PACK_METRIC_TIMING_TXN_NO_BANK_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 7U, COUNTER, PACK_METRIC_TIMING_NO_TXN_BANK_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 8U, COUNTER, PACK_METRIC_TIMING_TXN_BANK_LEADER_NO_MICROBLOCK_OFF );
  RENDER( 9U, COUNTER, PACK_METRIC_TIMING_NO_TXN_NO_BANK_NO_LEADER_MICROBLOCK_OFF );
  RENDER( 10U, COUNTER, PACK_METRIC_TIMING_TXN_NO_BANK_NO_LEADER_MICROBLOCK_OFF );
  RENDER( 11U, COUNTER, PACK_METRIC_TIMING_NO_TXN_BANK_NO_LEADER_MICROBLOCK_OFF );
  RENDER( 12U, COUNTER, PACK_METRIC_TIMING_TXN_BANK_NO_LEADER_MICROBLOCK_OFF );
  RENDER( 13U, COUNTER, PACK_METRIC_TIMING_NO_TXN_NO_BANK_LEADER_MICROBLOCK_OFF );
  RENDER( 14U, COUNTER, PACK_METRIC_TIMING_TXN_NO_BANK_LEADER_MICROBLOCK_OFF );
  RENDER( 15U, COUNTER, PACK_METRIC_TIMING_NO_TXN_BANK_LEADER_MICROBLOCK_OFF );
  RENDER( 16U, COUNTER, PACK_METRIC_TIMING_TXN_BANK_LEADER_MICROBLOCK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 6U, COUNTER, PACK_TRANSACTION_DROPPED_FROM_EXTRA_OFF );
  RENDER( 7U, COUNTER, PACK_TRANSACTION_INSERTED_TO_EXTRA_OFF );
  RENDER( 8U, COUNTER, PACK_TRANSACTION_INSERTED_FROM_EXTRA_OFF );
  RENDER( 9U, COUNTER, PACK_TRANSACTION_EXPIRED_OFF );
  RENDER( 10U, COUNTER, PACK_TRANSACTION_DELETED_OFF );
  RENDER( 11U, COUNTER, PACK_TRANSACTION_ALREADY_EXECUTED_OFF );
  RENDER( 12U, COUNTER, PACK_TRANSACTION_DROPPED_PARTIAL_BUNDLE_OFF );
  /* Field 13: available_transactions (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 13U ) ) ) return -1;
  RENDER( 1U, GAUGE, PACK_AVAILABLE_TRANSACTIONS_ALL_OFF );
  RENDER( 2U, GAUGE, PACK_AVAILABLE_TRANSACTIONS_REGULAR_OFF );
  RENDER( 3U, GAUGE, PACK_AVAILABLE_TRANSACTIONS_VOTES_OFF );
  RENDER( 4U, GAUGE, PACK_AVAILABLE_TRANSACTIONS_CONFLICTING_OFF );
  RENDER( 5U, GAUGE, PACK_AVAILABLE_TRANSACTIONS_BUNDLES_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 14U, GAUGE, PACK_PENDING_TRANSACTIONS_HEAP_SIZE_OFF );
  RENDER( 15U, GAUGE, PACK_SMALLEST_PENDING_TRANSACTION_OFF );
  RENDER( 16U, COUNTER, PACK_MICROBLOCK_PER_BLOCK_LIMIT_OFF );
  RENDER( 17U, COUNTER, PACK_DATA_PER_BLOCK_LIMIT_OFF );
  /* Field 18: transaction_schedule (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 18U ) ) ) return -1;
  RENDER( 1U, COUNTER, PACK_TRANSACTION_SCHEDULE_TAKEN_OFF );
  RENDER( 2U, COUNTER, PACK_TRANSACTION_SCHEDULE_CU_LIMIT_OFF );
  RENDER( 3U, COUNTER, PACK_TRANSACTION_SCHEDULE_FAST_PATH_OFF );
  RENDER( 4U, COUNTER, PACK_TRANSACTION_SCHEDULE_BYTE_LIMIT_OFF );
  RENDER( 5U, COUNTER, PACK_TRANSACTION_SCHEDULE_WRITE_COST_OFF );
  RENDER( 6U, COUNTER, PACK_TRANSACTION_SCHEDULE_SLOW_PATH_OFF );
  RENDER( 7U, COUNTER, PACK_TRANSACTION_SCHEDULE_DEFER_SKIP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 19: bundle_crank_status (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 19U ) ) ) return -1;
  RENDER( 1U, COUNTER, PACK_BUNDLE_CRANK_STATUS_NOT_NEEDED_OFF );
  RENDER( 2U, COUNTER, PACK_BUNDLE_CRANK_STATUS_INSERTED_OFF );
  RENDER( 3U, COUNTER, PACK_BUNDLE_CRANK_STATUS_CREATION_FAILED_OFF );
  RENDER( 4U, COUNTER, PACK_BUNDLE_CRANK_STATUS_INSERTION_FAILED_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 20U, GAUGE, PACK_CUS_CONSUMED_IN_BLOCK_OFF );
  RENDER( 21U, COUNTER, PACK_DELETE_MISSED_OFF );
  RENDER( 22U, COUNTER, PACK_DELETE_HIT_OFF );
  return 0;
}

static int
render_metrics_poh( fd_pb_encoder_t *      enc,
                    ulong                  sample_id,
                    uint                   sample_reason,
                    ulong                  sample_slot,
                    ulong                  kind_id,
                    ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_shred( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, SHRED_MICROBLOCKS_ABANDONED_OFF );
  RENDER( 4U, COUNTER, SHRED_INVALID_BLOCK_ID_OFF );
  /* Field 5: shred_processed (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, SHRED_SHRED_PROCESSED_BAD_SLOT_OFF );
  RENDER( 2U, COUNTER, SHRED_SHRED_PROCESSED_PARSE_FAILED_OFF );
  RENDER( 3U, COUNTER, SHRED_SHRED_PROCESSED_REJECTED_OFF );
  RENDER( 4U, COUNTER, SHRED_SHRED_PROCESSED_IGNORED_OFF );
  RENDER( 5U, COUNTER, SHRED_SHRED_PROCESSED_OKAY_OFF );
  RENDER( 6U, COUNTER, SHRED_SHRED_PROCESSED_COMPLETES_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 6U, COUNTER, SHRED_FEC_SET_SPILLED_OFF );
  RENDER( 7U, COUNTER, SHRED_SHRED_REJECTED_INITIAL_OFF );
  RENDER( 8U, COUNTER, SHRED_SHRED_REJECTED_UNCHAINED_OFF );
  RENDER( 9U, COUNTER, SHRED_FEC_REJECTED_FATAL_OFF );
  RENDER( 10U, COUNTER, SHRED_FORCE_COMPLETE_REQUEST_OFF );
  RENDER( 11U, COUNTER, SHRED_FORCE_COMPLETE_FAILURE_OFF );
  RENDER( 12U, COUNTER, SHRED_FORCE_COMPLETE_SUCCESS_OFF );
  RENDER( 13U, COUNTER, SHRED_SHRED_REPAIR_RCV_OFF );
  RENDER( 14U, COUNTER, SHRED_SHRED_REPAIR_RCV_BYTES_OFF );
  RENDER( 15U, COUNTER, SHRED_SHRED_TURBINE_RCV_OFF );
  RENDER( 16U, COUNTER, SHRED_SHRED_TURBINE_RCV_BYTES_OFF );
  return 0;
}

static int
render_metrics_sign( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_metric( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, METRIC_BOOT_TIMESTAMP_NANOS_OFF );
  RENDER( 4U, GAUGE, METRIC_CONNECTION_COUNT_OFF );
  RENDER( 5U, COUNTER, METRIC_BYTES_WRITTEN_OFF );
  RENDER( 6U, COUNTER, METRIC_BYTES_READ_OFF );
  return 0;
}

static int
render_metrics_diag( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_event( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, EVENT_CONNECTION_STATE_OFF );
  RENDER( 4U, GAUGE, EVENT_EVENT_QUEUE_COUNT_OFF );
  RENDER( 5U, COUNTER, EVENT_EVENT_QUEUE_DROPS_OFF );
  RENDER( 6U, GAUGE, EVENT_EVENT_QUEUE_BYTES_USED_OFF );
  RENDER( 7U, GAUGE, EVENT_EVENT_QUEUE_BYTES_CAPACITY_OFF );
  RENDER( 8U, COUNTER, EVENT_EVENTS_SENT_OFF );
  RENDER( 9U, COUNTER, EVENT_EVENTS_ACKED_OFF );
  RENDER( 10U, COUNTER, EVENT_BYTES_WRITTEN_OFF );
  RENDER( 11U, COUNTER, EVENT_BYTES_READ_OFF );
  return 0;
}

static int
render_metrics_gui( fd_pb_encoder_t *      enc,
                    ulong                  sample_id,
                    uint                   sample_reason,
                    ulong                  sample_slot,
                    ulong                  kind_id,
                    ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, GUI_CONNECTION_COUNT_OFF );
  RENDER( 4U, GAUGE, GUI_WEBSOCKET_CONNECTION_COUNT_OFF );
  RENDER( 5U, COUNTER, GUI_WEBSOCKET_FRAMES_SENT_OFF );
  RENDER( 6U, COUNTER, GUI_WEBSOCKET_FRAMES_RECEIVED_OFF );
  RENDER( 7U, COUNTER, GUI_BYTES_WRITTEN_OFF );
  RENDER( 8U, COUNTER, GUI_BYTES_READ_OFF );
  return 0;
}

static int
render_metrics_replay( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, REPLAY_ROOT_SLOT_OFF );
  RENDER( 4U, GAUGE, REPLAY_ROOT_DISTANCE_OFF );
  RENDER( 5U, GAUGE, REPLAY_LEADER_SLOT_OFF );
  RENDER( 6U, GAUGE, REPLAY_NEXT_LEADER_SLOT_OFF );
  RENDER( 7U, GAUGE, REPLAY_RESET_SLOT_OFF );
  RENDER( 8U, GAUGE, REPLAY_MAX_LIVE_BANKS_OFF );
  RENDER( 9U, GAUGE, REPLAY_LIVE_BANKS_OFF );
  RENDER( 10U, GAUGE, REPLAY_REASM_FREE_OFF );
  RENDER( 11U, GAUGE, REPLAY_REASM_LATEST_SLOT_OFF );
  RENDER( 12U, GAUGE, REPLAY_REASM_LATEST_FEC_IDX_OFF );
  RENDER( 13U, COUNTER, REPLAY_SLOTS_TOTAL_OFF );
  RENDER( 14U, COUNTER, REPLAY_TRANSACTIONS_TOTAL_OFF );
  RENDER( 15U, COUNTER, REPLAY_SCHED_FULL_OFF );
  RENDER( 16U, COUNTER, REPLAY_REASM_EMPTY_OFF );
  RENDER( 17U, COUNTER, REPLAY_LEADER_BID_WAIT_OFF );
  RENDER( 18U, COUNTER, REPLAY_BANKS_FULL_OFF );
  RENDER( 19U, COUNTER, REPLAY_STORAGE_ROOT_BEHIND_OFF );
  RENDER( 20U, COUNTER, REPLAY_PROGCACHE_ROOTED_OFF );
  RENDER( 21U, COUNTER, REPLAY_PROGCACHE_GC_ROOT_OFF );
  RENDER( 22U, COUNTER, REPLAY_ACCDB_CREATED_OFF );
  RENDER( 23U, COUNTER, REPLAY_ACCDB_REVERTED_OFF );
  RENDER( 24U, COUNTER, REPLAY_ACCDB_ROOTED_OFF );
  RENDER( 25U, COUNTER, REPLAY_ACCDB_GC_ROOT_OFF );
  RENDER( 26U, COUNTER, REPLAY_ACCDB_RECLAIMED_OFF );
  return 0;
}

static int
render_metrics_gossip( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, GOSSIP_PING_TRACKER_CAPACITY_OFF );
  /* Field 4: ping_tracker_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, GAUGE, GOSSIP_PING_TRACKER_COUNT_UNPINGED_OFF );
  RENDER( 2U, GAUGE, GOSSIP_PING_TRACKER_COUNT_INVALID_OFF );
  RENDER( 3U, GAUGE, GOSSIP_PING_TRACKER_COUNT_VALID_OFF );
  RENDER( 4U, GAUGE, GOSSIP_PING_TRACKER_COUNT_VALID_REFRESHING_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 5: ping_tracker_pong_result (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_STAKED_OFF );
  RENDER( 2U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_ENTRYPOINT_OFF );
  RENDER( 3U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_UNTRACKED_OFF );
  RENDER( 4U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_ADDRESS_OFF );
  RENDER( 5U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_TOKEN_OFF );
  RENDER( 6U, COUNTER, GOSSIP_PING_TRACKER_PONG_RESULT_SUCCESS_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 6U, COUNTER, GOSSIP_PING_TRACKER_EVICTED_COUNT_OFF );
  RENDER( 7U, COUNTER, GOSSIP_PING_TRACKED_COUNT_OFF );
  RENDER( 8U, COUNTER, GOSSIP_PING_TRACKER_STAKE_CHANGED_COUNT_OFF );
  RENDER( 9U, COUNTER, GOSSIP_PING_TRACKER_ADDRESS_CHANGED_COUNT_OFF );
  RENDER( 10U, GAUGE, GOSSIP_CRDS_CAPACITY_OFF );
  /* Field 11: crds_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, GAUGE, GOSSIP_CRDS_COUNT_CONTACT_INFO_V1_OFF );
  RENDER( 2U, GAUGE, GOSSIP_CRDS_COUNT_VOTE_OFF );
  RENDER( 3U, GAUGE, GOSSIP_CRDS_COUNT_LOWEST_SLOT_OFF );
  RENDER( 4U, GAUGE, GOSSIP_CRDS_COUNT_SNAPSHOT_HASHES_OFF );
  RENDER( 5U, GAUGE, GOSSIP_CRDS_COUNT_ACCOUNTS_HASHES_OFF );
  RENDER( 6U, GAUGE, GOSSIP_CRDS_COUNT_EPOCH_SLOTS_OFF );
  RENDER( 7U, GAUGE, GOSSIP_CRDS_COUNT_VERSION_V1_OFF );
  RENDER( 8U, GAUGE, GOSSIP_CRDS_COUNT_VERSION_V2_OFF );
  RENDER( 9U, GAUGE, GOSSIP_CRDS_COUNT_NODE_INSTANCE_OFF );
  RENDER( 10U, GAUGE, GOSSIP_CRDS_COUNT_DUPLICATE_SHRED_OFF );
  RENDER( 11U, GAUGE, GOSSIP_CRDS_COUNT_INCREMENTAL_SNAPSHOT_HASHES_OFF );
  RENDER( 12U, GAUGE, GOSSIP_CRDS_COUNT_CONTACT_INFO_V2_OFF );
  RENDER( 13U, GAUGE, GOSSIP_CRDS_COUNT_RESTART_LAST_VOTED_FORK_SLOTS_OFF );
  RENDER( 14U, GAUGE, GOSSIP_CRDS_COUNT_RESTART_HEAVIEST_FORK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 12U, COUNTER, GOSSIP_CRDS_EXPIRED_COUNT_OFF );
  RENDER( 13U, COUNTER, GOSSIP_CRDS_EVICTED_COUNT_OFF );
  RENDER( 14U, GAUGE, GOSSIP_CRDS_PEER_CAPACITY_OFF );
  RENDER( 15U, GAUGE, GOSSIP_CRDS_PEER_STAKED_COUNT_OFF );
  RENDER( 16U, GAUGE, GOSSIP_CRDS_PEER_UNSTAKED_COUNT_OFF );
  RENDER( 17U, GAUGE, GOSSIP_CRDS_PEER_TOTAL_STAKE_OFF );
  RENDER( 18U, COUNTER, GOSSIP_CRDS_PEER_EVICTED_COUNT_OFF );
  RENDER( 19U, GAUGE, GOSSIP_CRDS_PURGED_CAPACITY_OFF );
  RENDER( 20U, GAUGE, GOSSIP_CRDS_PURGED_COUNT_OFF );
  RENDER( 21U, COUNTER, GOSSIP_CRDS_PURGED_EXPIRED_COUNT_OFF );
  RENDER( 22U, COUNTER, GOSSIP_CRDS_PURGED_EVICTED_COUNT_OFF );
  RENDER( 23U, COUNTER, GOSSIP_CONTACT_INFO_UNRECOGNIZED_SOCKET_TAGS_OFF );
  RENDER( 24U, COUNTER, GOSSIP_CONTACT_INFO_IPV6_OFF );
  /* Field 25: crds_rx_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 25U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_CRDS_RX_COUNT_UPSERTED_PULL_RESPONSE_OFF );
  RENDER( 2U, COUNTER, GOSSIP_CRDS_RX_COUNT_UPSERTED_PUSH_OFF );
  RENDER( 3U, COUNTER, GOSSIP_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_STALE_OFF );
  RENDER( 4U, COUNTER, GOSSIP_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_WALLCLOCK_OFF );
  RENDER( 5U, COUNTER, GOSSIP_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_DUPLICATE_OFF );
  RENDER( 6U, COUNTER, GOSSIP_CRDS_RX_COUNT_DROPPED_PUSH_STALE_OFF );
  RENDER( 7U, COUNTER, GOSSIP_CRDS_RX_COUNT_DROPPED_PUSH_DUPLICATE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 26: message_tx_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 26U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PULL_REQUEST_OFF );
  RENDER( 2U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PULL_RESPONSE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PUSH_OFF );
  RENDER( 4U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PRUNE_OFF );
  RENDER( 5U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PING_OFF );
  RENDER( 6U, COUNTER, GOSSIP_MESSAGE_TX_COUNT_PONG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 27: message_tx_bytes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 27U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PULL_REQUEST_OFF );
  RENDER( 2U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PULL_RESPONSE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PUSH_OFF );
  RENDER( 4U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PRUNE_OFF );
  RENDER( 5U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PING_OFF );
  RENDER( 6U, COUNTER, GOSSIP_MESSAGE_TX_BYTES_PONG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 28: crds_tx_push_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 28U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_CONTACT_INFO_V1_OFF );
  RENDER( 2U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_VOTE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_LOWEST_SLOT_OFF );
  RENDER( 4U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_SNAPSHOT_HASHES_OFF );
  RENDER( 5U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_ACCOUNTS_HASHES_OFF );
  RENDER( 6U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_EPOCH_SLOTS_OFF );
  RENDER( 7U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_VERSION_V1_OFF );
  RENDER( 8U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_VERSION_V2_OFF );
  RENDER( 9U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_NODE_INSTANCE_OFF );
  RENDER( 10U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_DUPLICATE_SHRED_OFF );
  RENDER( 11U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_INCREMENTAL_SNAPSHOT_HASHES_OFF );
  RENDER( 12U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_CONTACT_INFO_V2_OFF );
  RENDER( 13U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_RESTART_LAST_VOTED_FORK_SLOTS_OFF );
  RENDER( 14U, COUNTER, GOSSIP_CRDS_TX_PUSH_COUNT_RESTART_HEAVIEST_FORK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 29: crds_tx_push_bytes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 29U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_CONTACT_INFO_V1_OFF );
  RENDER( 2U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_VOTE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_LOWEST_SLOT_OFF );
  RENDER( 4U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_SNAPSHOT_HASHES_OFF );
  RENDER( 5U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_ACCOUNTS_HASHES_OFF );
  RENDER( 6U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_EPOCH_SLOTS_OFF );
  RENDER( 7U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_VERSION_V1_OFF );
  RENDER( 8U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_VERSION_V2_OFF );
  RENDER( 9U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_NODE_INSTANCE_OFF );
  RENDER( 10U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_DUPLICATE_SHRED_OFF );
  RENDER( 11U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_INCREMENTAL_SNAPSHOT_HASHES_OFF );
  RENDER( 12U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_CONTACT_INFO_V2_OFF );
  RENDER( 13U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_RESTART_LAST_VOTED_FORK_SLOTS_OFF );
  RENDER( 14U, COUNTER, GOSSIP_CRDS_TX_PUSH_BYTES_RESTART_HEAVIEST_FORK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 30: crds_tx_pull_response_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 30U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_CONTACT_INFO_V1_OFF );
  RENDER( 2U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_VOTE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_LOWEST_SLOT_OFF );
  RENDER( 4U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_SNAPSHOT_HASHES_OFF );
  RENDER( 5U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_ACCOUNTS_HASHES_OFF );
  RENDER( 6U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_EPOCH_SLOTS_OFF );
  RENDER( 7U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_VERSION_V1_OFF );
  RENDER( 8U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_VERSION_V2_OFF );
  RENDER( 9U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_NODE_INSTANCE_OFF );
  RENDER( 10U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_DUPLICATE_SHRED_OFF );
  RENDER( 11U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_INCREMENTAL_SNAPSHOT_HASHES_OFF );
  RENDER( 12U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_CONTACT_INFO_V2_OFF );
  RENDER( 13U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_RESTART_LAST_VOTED_FORK_SLOTS_OFF );
  RENDER( 14U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_COUNT_RESTART_HEAVIEST_FORK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 31: crds_tx_pull_response_bytes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 31U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_CONTACT_INFO_V1_OFF );
  RENDER( 2U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_VOTE_OFF );
  RENDER( 3U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_LOWEST_SLOT_OFF );
  RENDER( 4U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_SNAPSHOT_HASHES_OFF );
  RENDER( 5U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_ACCOUNTS_HASHES_OFF );
  RENDER( 6U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_EPOCH_SLOTS_OFF );
  RENDER( 7U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_VERSION_V1_OFF );
  RENDER( 8U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_VERSION_V2_OFF );
  RENDER( 9U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_NODE_INSTANCE_OFF );
  RENDER( 10U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_DUPLICATE_SHRED_OFF );
  RENDER( 11U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_INCREMENTAL_SNAPSHOT_HASHES_OFF );
  RENDER( 12U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_CONTACT_INFO_V2_OFF );
  RENDER( 13U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_RESTART_LAST_VOTED_FORK_SLOTS_OFF );
  RENDER( 14U, COUNTER, GOSSIP_CRDS_TX_PULL_RESPONSE_BYTES_RESTART_HEAVIEST_FORK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_netlnk( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, NETLNK_DROP_EVENTS_OFF );
  RENDER( 4U, COUNTER, NETLNK_LINK_FULL_SYNCS_OFF );
  RENDER( 5U, COUNTER, NETLNK_ROUTE_FULL_SYNCS_OFF );
  /* Field 6: updates (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 6U ) ) ) return -1;
  RENDER( 1U, COUNTER, NETLNK_UPDATES_LINK_OFF );
  RENDER( 2U, COUNTER, NETLNK_UPDATES_NEIGH_OFF );
  RENDER( 3U, COUNTER, NETLNK_UPDATES_IPV4_ROUTE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 7U, GAUGE, NETLNK_INTERFACE_COUNT_OFF );
  /* Field 8: route_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 8U ) ) ) return -1;
  RENDER( 1U, GAUGE, NETLNK_ROUTE_COUNT_LOCAL_OFF );
  RENDER( 2U, GAUGE, NETLNK_ROUTE_COUNT_MAIN_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 9U, COUNTER, NETLNK_NEIGH_PROBE_SENT_OFF );
  RENDER( 10U, COUNTER, NETLNK_NEIGH_PROBE_FAILS_OFF );
  RENDER( 11U, COUNTER, NETLNK_NEIGH_PROBE_RATE_LIMIT_HOST_OFF );
  RENDER( 12U, COUNTER, NETLNK_NEIGH_PROBE_RATE_LIMIT_GLOBAL_OFF );
  return 0;
}

static int
render_metrics_sock( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 3: syscalls_sendmmsg (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 3U ) ) ) return -1;
  RENDER( 1U, COUNTER, SOCK_SYSCALLS_SENDMMSG_NO_ERROR_OFF );
  RENDER( 2U, COUNTER, SOCK_SYSCALLS_SENDMMSG_SLOW_OFF );
  RENDER( 3U, COUNTER, SOCK_SYSCALLS_SENDMMSG_PERM_OFF );
  RENDER( 4U, COUNTER, SOCK_SYSCALLS_SENDMMSG_UNREACH_OFF );
  RENDER( 5U, COUNTER, SOCK_SYSCALLS_SENDMMSG_DOWN_OFF );
  RENDER( 6U, COUNTER, SOCK_SYSCALLS_SENDMMSG_OTHER_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 4U, COUNTER, SOCK_SYSCALLS_RECVMMSG_OFF );
  RENDER( 5U, COUNTER, SOCK_RX_PKT_CNT_OFF );
  RENDER( 6U, COUNTER, SOCK_TX_PKT_CNT_OFF );
  RENDER( 7U, COUNTER, SOCK_TX_DROP_CNT_OFF );
  RENDER( 8U, COUNTER, SOCK_TX_BYTES_TOTAL_OFF );
  RENDER( 9U, COUNTER, SOCK_RX_BYTES_TOTAL_OFF );
  return 0;
}

static int
render_metrics_repair( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, REPAIR_TOTAL_PKT_COUNT_OFF );
  /* Field 4: sent_pkt_types (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, COUNTER, REPAIR_SENT_PKT_TYPES_NEEDED_WINDOW_OFF );
  RENDER( 2U, COUNTER, REPAIR_SENT_PKT_TYPES_NEEDED_HIGHEST_WINDOW_OFF );
  RENDER( 3U, COUNTER, REPAIR_SENT_PKT_TYPES_NEEDED_ORPHAN_OFF );
  RENDER( 4U, COUNTER, REPAIR_SENT_PKT_TYPES_PONG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 5U, COUNTER, REPAIR_REPAIRED_SLOTS_OFF );
  RENDER( 6U, COUNTER, REPAIR_CURRENT_SLOT_OFF );
  RENDER( 7U, COUNTER, REPAIR_REQUEST_PEERS_OFF );
  RENDER( 8U, COUNTER, REPAIR_SIGN_TILE_UNAVAIL_OFF );
  RENDER( 9U, COUNTER, REPAIR_EAGER_REPAIR_AGGRESSES_OFF );
  RENDER( 10U, COUNTER, REPAIR_REREQUEST_QUEUE_OFF );
  RENDER( 11U, COUNTER, REPAIR_MALFORMED_PING_OFF );
  return 0;
}

static int
render_metrics_send( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, SEND_UNSTAKED_CI_OFF );
  RENDER( 4U, COUNTER, SEND_CI_REMOVED_OFF );
  /* Field 5: new_contact_info_quic_vote (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_VOTE_UNROUTABLE_OFF );
  RENDER( 2U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_VOTE_INITIALIZED_OFF );
  RENDER( 3U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_VOTE_CHANGED_OFF );
  RENDER( 4U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_VOTE_NO_CHANGE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 6: new_contact_info_quic_tpu (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 6U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_TPU_UNROUTABLE_OFF );
  RENDER( 2U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_TPU_INITIALIZED_OFF );
  RENDER( 3U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_TPU_CHANGED_OFF );
  RENDER( 4U, COUNTER, SEND_NEW_CONTACT_INFO_QUIC_TPU_NO_CHANGE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 7: new_contact_info_udp_vote (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 7U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_VOTE_UNROUTABLE_OFF );
  RENDER( 2U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_VOTE_INITIALIZED_OFF );
  RENDER( 3U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_VOTE_CHANGED_OFF );
  RENDER( 4U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_VOTE_NO_CHANGE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 8: new_contact_info_udp_tpu (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 8U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_TPU_UNROUTABLE_OFF );
  RENDER( 2U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_TPU_INITIALIZED_OFF );
  RENDER( 3U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_TPU_CHANGED_OFF );
  RENDER( 4U, COUNTER, SEND_NEW_CONTACT_INFO_UDP_TPU_NO_CHANGE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 9: send_result_quic_vote (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 9U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_SEND_RESULT_QUIC_VOTE_SUCCESS_OFF );
  RENDER( 2U, COUNTER, SEND_SEND_RESULT_QUIC_VOTE_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_SEND_RESULT_QUIC_VOTE_NO_CONN_OFF );
  RENDER( 4U, COUNTER, SEND_SEND_RESULT_QUIC_VOTE_NO_STREAM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 10: send_result_quic_tpu (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 10U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_SEND_RESULT_QUIC_TPU_SUCCESS_OFF );
  RENDER( 2U, COUNTER, SEND_SEND_RESULT_QUIC_TPU_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_SEND_RESULT_QUIC_TPU_NO_CONN_OFF );
  RENDER( 4U, COUNTER, SEND_SEND_RESULT_QUIC_TPU_NO_STREAM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 11: send_result_udp_vote (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_SEND_RESULT_UDP_VOTE_SUCCESS_OFF );
  RENDER( 2U, COUNTER, SEND_SEND_RESULT_UDP_VOTE_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_SEND_RESULT_UDP_VOTE_NO_CONN_OFF );
  RENDER( 4U, COUNTER, SEND_SEND_RESULT_UDP_VOTE_NO_STREAM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: send_result_udp_tpu (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_SEND_RESULT_UDP_TPU_SUCCESS_OFF );
  RENDER( 2U, COUNTER, SEND_SEND_RESULT_UDP_TPU_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_SEND_RESULT_UDP_TPU_NO_CONN_OFF );
  RENDER( 4U, COUNTER, SEND_SEND_RESULT_UDP_TPU_NO_STREAM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 13: ensure_conn_result_quic_vote (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 13U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_NO_LEADER_OFF );
  RENDER( 2U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_NEW_CONNECTION_OFF );
  RENDER( 4U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_CONN_FAILED_OFF );
  RENDER( 5U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_CONNECTED_OFF );
  RENDER( 6U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_VOTE_COOLDOWN_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 14: ensure_conn_result_quic_tpu (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 14U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_NO_LEADER_OFF );
  RENDER( 2U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_NO_CI_OFF );
  RENDER( 3U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_NEW_CONNECTION_OFF );
  RENDER( 4U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_CONN_FAILED_OFF );
  RENDER( 5U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_CONNECTED_OFF );
  RENDER( 6U, COUNTER, SEND_ENSURE_CONN_RESULT_QUIC_TPU_COOLDOWN_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 15: handshake_complete (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 15U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_HANDSHAKE_COMPLETE_QUIC_VOTE_OFF );
  RENDER( 2U, COUNTER, SEND_HANDSHAKE_COMPLETE_QUIC_TPU_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 16: quic_conn_final (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 16U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_QUIC_CONN_FINAL_QUIC_VOTE_OFF );
  RENDER( 2U, COUNTER, SEND_QUIC_CONN_FINAL_QUIC_TPU_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 17U, COUNTER, SEND_RECEIVED_PACKETS_OFF );
  RENDER( 18U, COUNTER, SEND_RECEIVED_BYTES_OFF );
  RENDER( 19U, COUNTER, SEND_SENT_PACKETS_OFF );
  RENDER( 20U, COUNTER, SEND_SENT_BYTES_OFF );
  RENDER( 21U, COUNTER, SEND_RETRY_SENT_OFF );
  RENDER( 22U, GAUGE, SEND_CONNECTIONS_ALLOC_OFF );
  /* Field 23: connections_state (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 23U ) ) ) return -1;
  RENDER( 1U, GAUGE, SEND_CONNECTIONS_STATE_INVALID_OFF );
  RENDER( 2U, GAUGE, SEND_CONNECTIONS_STATE_HANDSHAKE_OFF );
  RENDER( 3U, GAUGE, SEND_CONNECTIONS_STATE_HANDSHAKE_COMPLETE_OFF );
  RENDER( 4U, GAUGE, SEND_CONNECTIONS_STATE_ACTIVE_OFF );
  RENDER( 5U, GAUGE, SEND_CONNECTIONS_STATE_PEER_CLOSE_OFF );
  RENDER( 6U, GAUGE, SEND_CONNECTIONS_STATE_ABORT_OFF );
  RENDER( 7U, GAUGE, SEND_CONNECTIONS_STATE_CLOSE_PENDING_OFF );
  RENDER( 8U, GAUGE, SEND_CONNECTIONS_STATE_DEAD_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 24U, COUNTER, SEND_CONNECTIONS_CREATED_OFF );
  RENDER( 25U, COUNTER, SEND_CONNECTIONS_CLOSED_OFF );
  RENDER( 26U, COUNTER, SEND_CONNECTIONS_ABORTED_OFF );
  RENDER( 27U, COUNTER, SEND_CONNECTIONS_TIMED_OUT_OFF );
  RENDER( 28U, COUNTER, SEND_CONNECTIONS_RETRIED_OFF );
  RENDER( 29U, COUNTER, SEND_CONNECTION_ERROR_NO_SLOTS_OFF );
  RENDER( 30U, COUNTER, SEND_CONNECTION_ERROR_RETRY_FAIL_OFF );
  /* Field 31: pkt_crypto_failed (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 31U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_PKT_CRYPTO_FAILED_INITIAL_OFF );
  RENDER( 2U, COUNTER, SEND_PKT_CRYPTO_FAILED_EARLY_OFF );
  RENDER( 3U, COUNTER, SEND_PKT_CRYPTO_FAILED_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, SEND_PKT_CRYPTO_FAILED_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 32: pkt_no_key (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 32U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_PKT_NO_KEY_INITIAL_OFF );
  RENDER( 2U, COUNTER, SEND_PKT_NO_KEY_EARLY_OFF );
  RENDER( 3U, COUNTER, SEND_PKT_NO_KEY_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, SEND_PKT_NO_KEY_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 33: pkt_no_conn (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 33U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_PKT_NO_CONN_INITIAL_OFF );
  RENDER( 2U, COUNTER, SEND_PKT_NO_CONN_RETRY_OFF );
  RENDER( 3U, COUNTER, SEND_PKT_NO_CONN_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, SEND_PKT_NO_CONN_ONE_RTT_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 34U, COUNTER, SEND_PKT_TX_ALLOC_FAIL_OFF );
  RENDER( 35U, COUNTER, SEND_PKT_NET_HEADER_INVALID_OFF );
  RENDER( 36U, COUNTER, SEND_PKT_QUIC_HEADER_INVALID_OFF );
  RENDER( 37U, COUNTER, SEND_PKT_UNDERSZ_OFF );
  RENDER( 38U, COUNTER, SEND_PKT_OVERSZ_OFF );
  RENDER( 39U, COUNTER, SEND_PKT_VERNEG_OFF );
  /* Field 40: pkt_retransmissions (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 40U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_PKT_RETRANSMISSIONS_INITIAL_OFF );
  RENDER( 2U, COUNTER, SEND_PKT_RETRANSMISSIONS_EARLY_OFF );
  RENDER( 3U, COUNTER, SEND_PKT_RETRANSMISSIONS_HANDSHAKE_OFF );
  RENDER( 4U, COUNTER, SEND_PKT_RETRANSMISSIONS_APP_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 41U, COUNTER, SEND_HANDSHAKES_CREATED_OFF );
  RENDER( 42U, COUNTER, SEND_HANDSHAKE_ERROR_ALLOC_FAIL_OFF );
  RENDER( 43U, COUNTER, SEND_HANDSHAKE_EVICTED_OFF );
  RENDER( 44U, COUNTER, SEND_STREAM_RECEIVED_EVENTS_OFF );
  RENDER( 45U, COUNTER, SEND_STREAM_RECEIVED_BYTES_OFF );
  /* Field 46: received_frames (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 46U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_RECEIVED_FRAMES_UNKNOWN_OFF );
  RENDER( 2U, COUNTER, SEND_RECEIVED_FRAMES_ACK_OFF );
  RENDER( 3U, COUNTER, SEND_RECEIVED_FRAMES_RESET_STREAM_OFF );
  RENDER( 4U, COUNTER, SEND_RECEIVED_FRAMES_STOP_SENDING_OFF );
  RENDER( 5U, COUNTER, SEND_RECEIVED_FRAMES_CRYPTO_OFF );
  RENDER( 6U, COUNTER, SEND_RECEIVED_FRAMES_NEW_TOKEN_OFF );
  RENDER( 7U, COUNTER, SEND_RECEIVED_FRAMES_STREAM_OFF );
  RENDER( 8U, COUNTER, SEND_RECEIVED_FRAMES_MAX_DATA_OFF );
  RENDER( 9U, COUNTER, SEND_RECEIVED_FRAMES_MAX_STREAM_DATA_OFF );
  RENDER( 10U, COUNTER, SEND_RECEIVED_FRAMES_MAX_STREAMS_OFF );
  RENDER( 11U, COUNTER, SEND_RECEIVED_FRAMES_DATA_BLOCKED_OFF );
  RENDER( 12U, COUNTER, SEND_RECEIVED_FRAMES_STREAM_DATA_BLOCKED_OFF );
  RENDER( 13U, COUNTER, SEND_RECEIVED_FRAMES_STREAMS_BLOCKED_OFF );
  RENDER( 14U, COUNTER, SEND_RECEIVED_FRAMES_NEW_CONN_ID_OFF );
  RENDER( 15U, COUNTER, SEND_RECEIVED_FRAMES_RETIRE_CONN_ID_OFF );
  RENDER( 16U, COUNTER, SEND_RECEIVED_FRAMES_PATH_CHALLENGE_OFF );
  RENDER( 17U, COUNTER, SEND_RECEIVED_FRAMES_PATH_RESPONSE_OFF );
  RENDER( 18U, COUNTER, SEND_RECEIVED_FRAMES_CONN_CLOSE_QUIC_OFF );
  RENDER( 19U, COUNTER, SEND_RECEIVED_FRAMES_CONN_CLOSE_APP_OFF );
  RENDER( 20U, COUNTER, SEND_RECEIVED_FRAMES_HANDSHAKE_DONE_OFF );
  RENDER( 21U, COUNTER, SEND_RECEIVED_FRAMES_PING_OFF );
  RENDER( 22U, COUNTER, SEND_RECEIVED_FRAMES_PADDING_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 47U, COUNTER, SEND_FRAME_FAIL_PARSE_OFF );
  /* Field 48: frame_tx_alloc (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 48U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_FRAME_TX_ALLOC_SUCCESS_OFF );
  RENDER( 2U, COUNTER, SEND_FRAME_TX_ALLOC_FAIL_EMPTY_POOL_OFF );
  RENDER( 3U, COUNTER, SEND_FRAME_TX_ALLOC_FAIL_CONN_MAX_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 49: ack_tx (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 49U ) ) ) return -1;
  RENDER( 1U, COUNTER, SEND_ACK_TX_NOOP_OFF );
  RENDER( 2U, COUNTER, SEND_ACK_TX_NEW_OFF );
  RENDER( 3U, COUNTER, SEND_ACK_TX_MERGED_OFF );
  RENDER( 4U, COUNTER, SEND_ACK_TX_DROP_OFF );
  RENDER( 5U, COUNTER, SEND_ACK_TX_CANCEL_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_snapct( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPCT_STATE_OFF );
  RENDER( 4U, COUNTER, SNAPCT_FULL_NUM_RETRIES_OFF );
  RENDER( 5U, COUNTER, SNAPCT_INCREMENTAL_NUM_RETRIES_OFF );
  RENDER( 6U, GAUGE, SNAPCT_FULL_BYTES_READ_OFF );
  RENDER( 7U, GAUGE, SNAPCT_FULL_BYTES_WRITTEN_OFF );
  RENDER( 8U, GAUGE, SNAPCT_FULL_BYTES_TOTAL_OFF );
  RENDER( 9U, GAUGE, SNAPCT_FULL_DOWNLOAD_RETRIES_OFF );
  RENDER( 10U, GAUGE, SNAPCT_INCREMENTAL_BYTES_READ_OFF );
  RENDER( 11U, GAUGE, SNAPCT_INCREMENTAL_BYTES_WRITTEN_OFF );
  RENDER( 12U, GAUGE, SNAPCT_INCREMENTAL_BYTES_TOTAL_OFF );
  RENDER( 13U, GAUGE, SNAPCT_INCREMENTAL_DOWNLOAD_RETRIES_OFF );
  RENDER( 14U, GAUGE, SNAPCT_PREDICTED_SLOT_OFF );
  RENDER( 15U, GAUGE, SNAPCT_GOSSIP_FRESH_COUNT_OFF );
  RENDER( 16U, GAUGE, SNAPCT_GOSSIP_TOTAL_COUNT_OFF );
  RENDER( 17U, COUNTER, SNAPCT_SSL_ALLOC_ERRORS_OFF );
  return 0;
}

static int
render_metrics_snapld( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPLD_STATE_OFF );
  RENDER( 4U, COUNTER, SNAPLD_SSL_ALLOC_ERRORS_OFF );
  return 0;
}

static int
render_metrics_snapdc( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPDC_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPDC_FULL_COMPRESSED_BYTES_READ_OFF );
  RENDER( 5U, GAUGE, SNAPDC_FULL_DECOMPRESSED_BYTES_WRITTEN_OFF );
  RENDER( 6U, GAUGE, SNAPDC_INCREMENTAL_COMPRESSED_BYTES_READ_OFF );
  RENDER( 7U, GAUGE, SNAPDC_INCREMENTAL_DECOMPRESSED_BYTES_WRITTEN_OFF );
  return 0;
}

static int
render_metrics_snapin( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPIN_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPIN_FULL_BYTES_READ_OFF );
  RENDER( 5U, GAUGE, SNAPIN_INCREMENTAL_BYTES_READ_OFF );
  RENDER( 6U, GAUGE, SNAPIN_ACCOUNTS_LOADED_OFF );
  RENDER( 7U, GAUGE, SNAPIN_ACCOUNTS_REPLACED_OFF );
  RENDER( 8U, GAUGE, SNAPIN_ACCOUNTS_IGNORED_OFF );
  return 0;
}

static int
render_metrics_ipecho( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, IPECHO_CURRENT_SHRED_VERSION_OFF );
  RENDER( 4U, GAUGE, IPECHO_CONNECTION_COUNT_OFF );
  RENDER( 5U, COUNTER, IPECHO_CONNECTIONS_CLOSED_OK_OFF );
  RENDER( 6U, COUNTER, IPECHO_CONNECTIONS_CLOSED_ERROR_OFF );
  RENDER( 7U, COUNTER, IPECHO_BYTES_READ_OFF );
  RENDER( 8U, COUNTER, IPECHO_BYTES_WRITTEN_OFF );
  return 0;
}

static int
render_metrics_gossvf( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 3: message_rx_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 3U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PULL_REQUEST_OFF );
  RENDER( 2U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PULL_RESPONSE_OFF );
  RENDER( 3U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PUSH_OFF );
  RENDER( 4U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PRUNE_OFF );
  RENDER( 5U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PING_OFF );
  RENDER( 6U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_SUCCESS_PONG_OFF );
  RENDER( 7U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_UNPARSEABLE_OFF );
  RENDER( 8U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_NOT_CONTACT_INFO_OFF );
  RENDER( 9U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_LOOPBACK_OFF );
  RENDER( 10U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_INACTIVE_OFF );
  RENDER( 11U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_WALLCLOCK_OFF );
  RENDER( 12U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_SIGNATURE_OFF );
  RENDER( 13U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_REQUEST_SHRED_VERSION_OFF );
  RENDER( 14U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PRUNE_DESTINATION_OFF );
  RENDER( 15U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PRUNE_WALLCLOCK_OFF );
  RENDER( 16U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PRUNE_SIGNATURE_OFF );
  RENDER( 17U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PUSH_NO_VALID_CRDS_OFF );
  RENDER( 18U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PULL_RESPONSE_NO_VALID_CRDS_OFF );
  RENDER( 19U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PING_SIGNATURE_OFF );
  RENDER( 20U, COUNTER, GOSSVF_MESSAGE_RX_COUNT_DROPPED_PONG_SIGNATURE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 4: message_rx_bytes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PULL_REQUEST_OFF );
  RENDER( 2U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PULL_RESPONSE_OFF );
  RENDER( 3U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PUSH_OFF );
  RENDER( 4U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PRUNE_OFF );
  RENDER( 5U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PING_OFF );
  RENDER( 6U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_SUCCESS_PONG_OFF );
  RENDER( 7U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_UNPARSEABLE_OFF );
  RENDER( 8U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_NOT_CONTACT_INFO_OFF );
  RENDER( 9U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_LOOPBACK_OFF );
  RENDER( 10U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_INACTIVE_OFF );
  RENDER( 11U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_WALLCLOCK_OFF );
  RENDER( 12U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_SIGNATURE_OFF );
  RENDER( 13U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_REQUEST_SHRED_VERSION_OFF );
  RENDER( 14U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PRUNE_DESTINATION_OFF );
  RENDER( 15U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PRUNE_WALLCLOCK_OFF );
  RENDER( 16U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PRUNE_SIGNATURE_OFF );
  RENDER( 17U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PUSH_NO_VALID_CRDS_OFF );
  RENDER( 18U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PULL_RESPONSE_NO_VALID_CRDS_OFF );
  RENDER( 19U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PING_SIGNATURE_OFF );
  RENDER( 20U, COUNTER, GOSSVF_MESSAGE_RX_BYTES_DROPPED_PONG_SIGNATURE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 5: crds_rx_count (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSVF_CRDS_RX_COUNT_SUCCESS_PULL_RESPONSE_OFF );
  RENDER( 2U, COUNTER, GOSSVF_CRDS_RX_COUNT_SUCCESS_PUSH_OFF );
  RENDER( 3U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_DUPLICATE_OFF );
  RENDER( 4U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_SIGNATURE_OFF );
  RENDER( 5U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_ORIGIN_NO_CONTACT_INFO_OFF );
  RENDER( 6U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_ORIGIN_SHRED_VERSION_OFF );
  RENDER( 7U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PULL_RESPONSE_INACTIVE_OFF );
  RENDER( 8U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PUSH_SIGNATURE_OFF );
  RENDER( 9U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PUSH_ORIGIN_NO_CONTACT_INFO_OFF );
  RENDER( 10U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PUSH_ORIGIN_SHRED_VERSION_OFF );
  RENDER( 11U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PUSH_INACTIVE_OFF );
  RENDER( 12U, COUNTER, GOSSVF_CRDS_RX_COUNT_DROPPED_PUSH_WALLCLOCK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 6: crds_rx_bytes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 6U ) ) ) return -1;
  RENDER( 1U, COUNTER, GOSSVF_CRDS_RX_BYTES_SUCCESS_PULL_RESPONSE_OFF );
  RENDER( 2U, COUNTER, GOSSVF_CRDS_RX_BYTES_SUCCESS_PUSH_OFF );
  RENDER( 3U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PULL_RESPONSE_DUPLICATE_OFF );
  RENDER( 4U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PULL_RESPONSE_SIGNATURE_OFF );
  RENDER( 5U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PULL_RESPONSE_ORIGIN_NO_CONTACT_INFO_OFF );
  RENDER( 6U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PULL_RESPONSE_ORIGIN_SHRED_VERSION_OFF );
  RENDER( 7U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PULL_RESPONSE_INACTIVE_OFF );
  RENDER( 8U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PUSH_SIGNATURE_OFF );
  RENDER( 9U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PUSH_ORIGIN_NO_CONTACT_INFO_OFF );
  RENDER( 10U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PUSH_ORIGIN_SHRED_VERSION_OFF );
  RENDER( 11U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PUSH_INACTIVE_OFF );
  RENDER( 12U, COUNTER, GOSSVF_CRDS_RX_BYTES_DROPPED_PUSH_WALLCLOCK_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_bankf( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 3: transaction_result (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 3U ) ) ) return -1;
  RENDER( 1U, COUNTER, BANKF_TRANSACTION_RESULT_SUCCESS_OFF );
  RENDER( 2U, COUNTER, BANKF_TRANSACTION_RESULT_INSTRUCTON_ERROR_OFF );
  RENDER( 3U, COUNTER, BANKF_TRANSACTION_RESULT_ACCOUNT_NOT_FOUND_OFF );
  RENDER( 4U, COUNTER, BANKF_TRANSACTION_RESULT_PROGRAM_ACCOUNT_NOT_FOUND_OFF );
  RENDER( 5U, COUNTER, BANKF_TRANSACTION_RESULT_INSUFFICIENT_FUNDS_FOR_FEE_OFF );
  RENDER( 6U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_ACCOUNT_FOR_FEE_OFF );
  RENDER( 7U, COUNTER, BANKF_TRANSACTION_RESULT_ALREADY_PROCESSED_OFF );
  RENDER( 8U, COUNTER, BANKF_TRANSACTION_RESULT_BLOCKHASH_NOT_FOUND_OFF );
  RENDER( 9U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_PROGRAM_FOR_EXECUTION_OFF );
  RENDER( 10U, COUNTER, BANKF_TRANSACTION_RESULT_ADDRESS_LOOKUP_TABLE_NOT_FOUND_OFF );
  RENDER( 11U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_ADDRESS_LOOKUP_TABLE_OWNER_OFF );
  RENDER( 12U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_ADDRESS_LOOKUP_TABLE_DATA_OFF );
  RENDER( 13U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_ADDRESS_LOOKUP_TABLE_INDEX_OFF );
  RENDER( 14U, COUNTER, BANKF_TRANSACTION_RESULT_MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED_OFF );
  RENDER( 15U, COUNTER, BANKF_TRANSACTION_RESULT_DUPLICATE_INSTRUCTION_OFF );
  RENDER( 16U, COUNTER, BANKF_TRANSACTION_RESULT_INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT_OFF );
  RENDER( 17U, COUNTER, BANKF_TRANSACTION_RESULT_NONCE_ALREADY_ADVANCED_OFF );
  RENDER( 18U, COUNTER, BANKF_TRANSACTION_RESULT_NONCE_ADVANCE_FAILED_OFF );
  RENDER( 19U, COUNTER, BANKF_TRANSACTION_RESULT_NONCE_WRONG_BLOCKHASH_OFF );
  RENDER( 20U, COUNTER, BANKF_TRANSACTION_RESULT_ACCOUNT_IN_USE_OFF );
  RENDER( 21U, COUNTER, BANKF_TRANSACTION_RESULT_ACCOUNT_LOADED_TWICE_OFF );
  RENDER( 22U, COUNTER, BANKF_TRANSACTION_RESULT_SIGNATURE_FAILURE_OFF );
  RENDER( 23U, COUNTER, BANKF_TRANSACTION_RESULT_TOO_MANY_ACCOUNT_LOCKS_OFF );
  RENDER( 24U, COUNTER, BANKF_TRANSACTION_RESULT_INSUFFICIENT_FUNDS_FOR_RENT_OFF );
  RENDER( 25U, COUNTER, BANKF_TRANSACTION_RESULT_UNBALANCED_TRANSACTION_OFF );
  RENDER( 26U, COUNTER, BANKF_TRANSACTION_RESULT_BUNDLE_PEER_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 4: transaction_landed (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, COUNTER, BANKF_TRANSACTION_LANDED_LANDED_SUCCESS_OFF );
  RENDER( 2U, COUNTER, BANKF_TRANSACTION_LANDED_LANDED_FEES_ONLY_OFF );
  RENDER( 3U, COUNTER, BANKF_TRANSACTION_LANDED_LANDED_FAILED_OFF );
  RENDER( 4U, COUNTER, BANKF_TRANSACTION_LANDED_UNLANDED_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_resolf( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, RESOLF_NO_BANK_DROP_OFF );
  /* Field 4: stash_operation (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;
  RENDER( 1U, COUNTER, RESOLF_STASH_OPERATION_INSERTED_OFF );
  RENDER( 2U, COUNTER, RESOLF_STASH_OPERATION_OVERRUN_OFF );
  RENDER( 3U, COUNTER, RESOLF_STASH_OPERATION_PUBLISHED_OFF );
  RENDER( 4U, COUNTER, RESOLF_STASH_OPERATION_REMOVED_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 5: lut_resolved (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, RESOLF_LUT_RESOLVED_INVALID_LOOKUP_INDEX_OFF );
  RENDER( 2U, COUNTER, RESOLF_LUT_RESOLVED_ACCOUNT_UNINITIALIZED_OFF );
  RENDER( 3U, COUNTER, RESOLF_LUT_RESOLVED_INVALID_ACCOUNT_DATA_OFF );
  RENDER( 4U, COUNTER, RESOLF_LUT_RESOLVED_INVALID_ACCOUNT_OWNER_OFF );
  RENDER( 5U, COUNTER, RESOLF_LUT_RESOLVED_ACCOUNT_NOT_FOUND_OFF );
  RENDER( 6U, COUNTER, RESOLF_LUT_RESOLVED_SUCCESS_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 6U, COUNTER, RESOLF_BLOCKHASH_EXPIRED_OFF );
  RENDER( 7U, COUNTER, RESOLF_TRANSACTION_BUNDLE_PEER_FAILURE_OFF );
  return 0;
}

static int
render_metrics_exec( fd_pb_encoder_t *      enc,
                     ulong                  sample_id,
                     uint                   sample_reason,
                     ulong                  sample_slot,
                     ulong                  kind_id,
                     ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, EXEC_PROGCACHE_MISSES_OFF );
  RENDER( 4U, COUNTER, EXEC_PROGCACHE_HITS_OFF );
  RENDER( 5U, COUNTER, EXEC_PROGCACHE_FILLS_OFF );
  RENDER( 6U, COUNTER, EXEC_PROGCACHE_FILL_TOT_SZ_OFF );
  RENDER( 7U, COUNTER, EXEC_PROGCACHE_FILL_FAILS_OFF );
  RENDER( 8U, COUNTER, EXEC_PROGCACHE_DUP_INSERTS_OFF );
  RENDER( 9U, COUNTER, EXEC_PROGCACHE_INVALIDATIONS_OFF );
  RENDER( 10U, COUNTER, EXEC_ACCDB_CREATED_OFF );
  /* Field 11: txn_regime (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, EXEC_TXN_REGIME_SETUP_OFF );
  RENDER( 2U, COUNTER, EXEC_TXN_REGIME_EXEC_OFF );
  RENDER( 3U, COUNTER, EXEC_TXN_REGIME_COMMIT_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: vm_regime (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, EXEC_VM_REGIME_SETUP_OFF );
  RENDER( 2U, COUNTER, EXEC_VM_REGIME_COMMIT_OFF );
  RENDER( 3U, COUNTER, EXEC_VM_REGIME_SETUP_CPI_OFF );
  RENDER( 4U, COUNTER, EXEC_VM_REGIME_COMMIT_CPI_OFF );
  RENDER( 5U, COUNTER, EXEC_VM_REGIME_INTERPRETER_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 13: txn_account_changes (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 13U ) ) ) return -1;
  RENDER( 1U, COUNTER, EXEC_TXN_ACCOUNT_CHANGES_UNCHANGED_NONEXIST_OFF );
  RENDER( 2U, COUNTER, EXEC_TXN_ACCOUNT_CHANGES_CREATED_OFF );
  RENDER( 3U, COUNTER, EXEC_TXN_ACCOUNT_CHANGES_DELETE_OFF );
  RENDER( 4U, COUNTER, EXEC_TXN_ACCOUNT_CHANGES_MODIFY_OFF );
  RENDER( 5U, COUNTER, EXEC_TXN_ACCOUNT_CHANGES_UNCHANGED_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_snapwr( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPWR_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPWR_VINYL_BYTES_WRITTEN_OFF );
  return 0;
}

static int
render_metrics_snapwh( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPWH_STATE_OFF );
  return 0;
}

static int
render_metrics_snapla( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPLA_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPLA_FULL_ACCOUNTS_HASHED_OFF );
  RENDER( 5U, GAUGE, SNAPLA_INCREMENTAL_ACCOUNTS_HASHED_OFF );
  return 0;
}

static int
render_metrics_snapls( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPLS_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPLS_FULL_ACCOUNTS_HASHED_OFF );
  RENDER( 5U, GAUGE, SNAPLS_INCREMENTAL_ACCOUNTS_HASHED_OFF );
  return 0;
}

static int
render_metrics_tower( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, COUNTER, TOWER_VOTE_TXN_INVALID_OFF );
  RENDER( 4U, COUNTER, TOWER_VOTE_TXN_IGNORED_OFF );
  RENDER( 5U, COUNTER, TOWER_VOTE_TXN_MISMATCH_OFF );
  RENDER( 6U, COUNTER, TOWER_ANCESTOR_ROLLBACK_OFF );
  RENDER( 7U, COUNTER, TOWER_SIBLING_CONFIRMED_OFF );
  RENDER( 8U, COUNTER, TOWER_SAME_FORK_OFF );
  RENDER( 9U, COUNTER, TOWER_SWITCH_PASS_OFF );
  RENDER( 10U, COUNTER, TOWER_SWITCH_FAIL_OFF );
  RENDER( 11U, COUNTER, TOWER_LOCKOUT_FAIL_OFF );
  RENDER( 12U, COUNTER, TOWER_THRESHOLD_FAIL_OFF );
  RENDER( 13U, COUNTER, TOWER_PROPAGATED_FAIL_OFF );
  RENDER( 14U, GAUGE, TOWER_ROOT_SLOT_OFF );
  RENDER( 15U, GAUGE, TOWER_VOTE_SLOT_OFF );
  RENDER( 16U, GAUGE, TOWER_RESET_SLOT_OFF );
  RENDER( 17U, COUNTER, TOWER_SLOT_IGNORED_OFF );
  RENDER( 18U, COUNTER, TOWER_HARD_FORKS_SEEN_OFF );
  RENDER( 19U, COUNTER, TOWER_HARD_FORKS_PRUNED_OFF );
  RENDER( 20U, GAUGE, TOWER_HARD_FORKS_ACTIVE_OFF );
  RENDER( 21U, GAUGE, TOWER_HARD_FORKS_MAX_WIDTH_OFF );
  return 0;
}

static int
render_metrics_accdb( fd_pb_encoder_t *      enc,
                      ulong                  sample_id,
                      uint                   sample_reason,
                      ulong                  sample_slot,
                      ulong                  kind_id,
                      ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 3: bstream_seq (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 3U ) ) ) return -1;
  RENDER( 1U, GAUGE, ACCDB_BSTREAM_SEQ_ANCIENT_OFF );
  RENDER( 2U, GAUGE, ACCDB_BSTREAM_SEQ_PAST_OFF );
  RENDER( 3U, GAUGE, ACCDB_BSTREAM_SEQ_PRESENT_OFF );
  RENDER( 4U, GAUGE, ACCDB_BSTREAM_SEQ_FUTURE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 4U, COUNTER, ACCDB_REQUEST_BATCHES_OFF );
  /* Field 5: requests (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 5U ) ) ) return -1;
  RENDER( 1U, COUNTER, ACCDB_REQUESTS_ACQUIRE_OFF );
  RENDER( 2U, COUNTER, ACCDB_REQUESTS_RELEASE_OFF );
  RENDER( 3U, COUNTER, ACCDB_REQUESTS_ERASE_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 6: blocks (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 6U ) ) ) return -1;
  RENDER( 1U, COUNTER, ACCDB_BLOCKS_PAIR_OFF );
  RENDER( 2U, COUNTER, ACCDB_BLOCKS_DEAD_OFF );
  RENDER( 3U, COUNTER, ACCDB_BLOCKS_PART_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 7U, GAUGE, ACCDB_GARBAGE_BYTES_OFF );
  RENDER( 8U, COUNTER, ACCDB_CUM_GC_BYTES_OFF );
  RENDER( 9U, COUNTER, ACCDB_CACHE_HITS_OFF );
  return 0;
}

static int
render_metrics_snapwm( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPWM_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPWM_ACCOUNTS_LOADED_OFF );
  RENDER( 5U, GAUGE, SNAPWM_ACCOUNTS_REPLACED_OFF );
  RENDER( 6U, GAUGE, SNAPWM_ACCOUNTS_IGNORED_OFF );
  RENDER( 7U, GAUGE, SNAPWM_ACCOUNTS_ACTIVE_OFF );
  return 0;
}

static int
render_metrics_snaplh( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPLH_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPLH_FULL_ACCOUNTS_HASHED_OFF );
  RENDER( 5U, GAUGE, SNAPLH_INCREMENTAL_ACCOUNTS_HASHED_OFF );
  return 0;
}

static int
render_metrics_snaplv( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  RENDER( 3U, GAUGE, SNAPLV_STATE_OFF );
  RENDER( 4U, GAUGE, SNAPLV_FULL_DUPLICATE_ACCOUNTS_HASHED_OFF );
  RENDER( 5U, GAUGE, SNAPLV_INCREMENTAL_DUPLICATE_ACCOUNTS_HASHED_OFF );
  return 0;
}

static int
render_metrics_genesi( fd_pb_encoder_t *      enc,
                       ulong                  sample_id,
                       uint                   sample_reason,
                       ulong                  sample_slot,
                       ulong                  kind_id,
                       ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

static int
render_metrics_rpc( fd_pb_encoder_t *      enc,
                    ulong                  sample_id,
                    uint                   sample_reason,
                    ulong                  sample_slot,
                    ulong                  kind_id,
                    ulong volatile const * tile_metrics ) {

  /* Field 1: meta (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 1U ) ) ) return -1;
  if( FD_LIKELY( kind_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, kind_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, sample_id ) ) ) return -1;
  }
  if( FD_LIKELY( sample_reason ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint32( enc, 3U, sample_reason ) ) ) return -1;
  }
  if( FD_LIKELY( sample_slot ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 4U, sample_slot ) ) ) return -1;
  }
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 2: tile (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 2U ) ) ) return -1;
  RENDER( 1U, GAUGE, TILE_PID_OFF );
  RENDER( 2U, GAUGE, TILE_TID_OFF );
  RENDER( 3U, COUNTER, TILE_CONTEXT_SWITCH_INVOLUNTARY_COUNT_OFF );
  RENDER( 4U, COUNTER, TILE_CONTEXT_SWITCH_VOLUNTARY_COUNT_OFF );
  RENDER( 5U, COUNTER, TILE_PAGE_FAULT_MAJOR_COUNT_OFF );
  RENDER( 6U, COUNTER, TILE_PAGE_FAULT_MINOR_COUNT_OFF );
  RENDER( 7U, GAUGE, TILE_STATUS_OFF );
  RENDER( 8U, GAUGE, TILE_HEARTBEAT_OFF );
  RENDER( 9U, GAUGE, TILE_IN_BACKPRESSURE_OFF );
  RENDER( 10U, COUNTER, TILE_BACKPRESSURE_COUNT_OFF );
  /* Field 11: regime_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 11U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_HOUSEKEEPING_OFF );
  RENDER( 2U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_HOUSEKEEPING_OFF );
  RENDER( 3U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_HOUSEKEEPING_OFF );
  RENDER( 4U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_PREFRAG_OFF );
  RENDER( 5U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_PREFRAG_OFF );
  RENDER( 6U, COUNTER, TILE_REGIME_DURATION_NANOS_BACKPRESSURE_PREFRAG_OFF );
  RENDER( 7U, COUNTER, TILE_REGIME_DURATION_NANOS_CAUGHT_UP_POSTFRAG_OFF );
  RENDER( 8U, COUNTER, TILE_REGIME_DURATION_NANOS_PROCESSING_POSTFRAG_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  /* Field 12: cpu_duration_nanos (submessage) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 12U ) ) ) return -1;
  RENDER( 1U, COUNTER, TILE_CPU_DURATION_NANOS_WAIT_OFF );
  RENDER( 2U, COUNTER, TILE_CPU_DURATION_NANOS_IDLE_OFF );
  RENDER( 3U, COUNTER, TILE_CPU_DURATION_NANOS_USER_OFF );
  RENDER( 4U, COUNTER, TILE_CPU_DURATION_NANOS_SYSTEM_OFF );
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  return 0;
}

long
fd_event_metric_render( fd_topo_t const *      topo,
                        fd_topo_tile_t const * tile,
                        ulong                  sample_id,
                        uint                   sample_reason,
                        ulong                  sample_slot,
                        ulong                  nonce,
                        ulong                  event_id,
                        long                   timestamp_nanos,
                        uchar *                buf,
                        ulong                  buf_sz ) {
  (void)topo;

  if( FD_UNLIKELY( !tile || !buf || buf_sz<64UL ) ) return -1;

  char const * tile_name = tile->metrics_name[ 0 ] ? tile->metrics_name : tile->name;
  ulong kind_id = tile->kind_id;

  ulong volatile const * tile_metrics = fd_metrics_tile( tile->metrics );
  if( FD_UNLIKELY( !tile_metrics ) ) return -1;

  fd_pb_encoder_t enc[1];
  fd_pb_encoder_init( enc, buf, buf_sz );

  /* Field 1: nonce */
  if( FD_LIKELY( nonce ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 1U, nonce ) ) ) return -1;
  }

  /* Field 2: event_id */
  if( FD_LIKELY( event_id ) ) {
    if( FD_UNLIKELY( !fd_pb_push_uint64( enc, 2U, event_id ) ) ) return -1;
  }

  /* Field 3: timestamp (Timestamp submessage) */
  if( FD_LIKELY( timestamp_nanos ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 3U ) ) ) return -1;
    long seconds = timestamp_nanos / 1000000000L;
    int  nanos   = (int)(timestamp_nanos % 1000000000L);
    if( FD_LIKELY( seconds ) ) {
      if( FD_UNLIKELY( !fd_pb_push_int64( enc, 1U, seconds ) ) ) return -1;
    }
    if( FD_LIKELY( nanos ) ) {
      if( FD_UNLIKELY( !fd_pb_push_int32( enc, 2U, nanos ) ) ) return -1;
    }
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  }

  /* Field 4: event (Event oneof) */
  if( FD_UNLIKELY( !fd_pb_submsg_open( enc, 4U ) ) ) return -1;

  /* Render based on tile name - dispatch to tile-specific renderer */
  int err = -1;
  if( 0==strcmp( tile_name, "net" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_NET ) ) ) return -1;
    err = render_metrics_net( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "quic" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_QUIC ) ) ) return -1;
    err = render_metrics_quic( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "bundle" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_BUNDLE ) ) ) return -1;
    err = render_metrics_bundle( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "verify" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_VERIFY ) ) ) return -1;
    err = render_metrics_verify( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "dedup" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_DEDUP ) ) ) return -1;
    err = render_metrics_dedup( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "pack" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_PACK ) ) ) return -1;
    err = render_metrics_pack( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "poh" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_POH ) ) ) return -1;
    err = render_metrics_poh( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "shred" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SHRED ) ) ) return -1;
    err = render_metrics_shred( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "sign" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SIGN ) ) ) return -1;
    err = render_metrics_sign( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "metric" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_METRIC ) ) ) return -1;
    err = render_metrics_metric( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "diag" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_DIAG ) ) ) return -1;
    err = render_metrics_diag( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "event" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_EVENT ) ) ) return -1;
    err = render_metrics_event( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "gui" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_GUI ) ) ) return -1;
    err = render_metrics_gui( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "replay" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_REPLAY ) ) ) return -1;
    err = render_metrics_replay( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "gossip" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_GOSSIP ) ) ) return -1;
    err = render_metrics_gossip( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "netlnk" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_NETLNK ) ) ) return -1;
    err = render_metrics_netlnk( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "sock" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SOCK ) ) ) return -1;
    err = render_metrics_sock( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "repair" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_REPAIR ) ) ) return -1;
    err = render_metrics_repair( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "send" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SEND ) ) ) return -1;
    err = render_metrics_send( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapct" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPCT ) ) ) return -1;
    err = render_metrics_snapct( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapld" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPLD ) ) ) return -1;
    err = render_metrics_snapld( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapdc" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPDC ) ) ) return -1;
    err = render_metrics_snapdc( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapin" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPIN ) ) ) return -1;
    err = render_metrics_snapin( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "ipecho" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_IPECHO ) ) ) return -1;
    err = render_metrics_ipecho( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "gossvf" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_GOSSVF ) ) ) return -1;
    err = render_metrics_gossvf( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "bankf" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_BANKF ) ) ) return -1;
    err = render_metrics_bankf( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "resolf" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_RESOLF ) ) ) return -1;
    err = render_metrics_resolf( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "exec" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_EXEC ) ) ) return -1;
    err = render_metrics_exec( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapwr" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPWR ) ) ) return -1;
    err = render_metrics_snapwr( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapwh" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPWH ) ) ) return -1;
    err = render_metrics_snapwh( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapla" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPLA ) ) ) return -1;
    err = render_metrics_snapla( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapls" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPLS ) ) ) return -1;
    err = render_metrics_snapls( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "tower" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_TOWER ) ) ) return -1;
    err = render_metrics_tower( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "accdb" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_ACCDB ) ) ) return -1;
    err = render_metrics_accdb( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snapwm" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPWM ) ) ) return -1;
    err = render_metrics_snapwm( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snaplh" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPLH ) ) ) return -1;
    err = render_metrics_snaplh( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "snaplv" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_SNAPLV ) ) ) return -1;
    err = render_metrics_snaplv( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "genesi" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_GENESI ) ) ) return -1;
    err = render_metrics_genesi( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else if( 0==strcmp( tile_name, "rpc" ) ) {
    if( FD_UNLIKELY( !fd_pb_submsg_open( enc, FD_EVENT_FIELD_RPC ) ) ) return -1;
    err = render_metrics_rpc( enc, sample_id, sample_reason, sample_slot, kind_id, tile_metrics );
    if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;
  } else {
    FD_LOG_WARNING(( "unknown tile name '%s' for event metric rendering", tile_name ));
    return -1;
  }

  if( FD_UNLIKELY( err ) ) return -1;

  /* Close the Event submessage (field 4) */
  if( FD_UNLIKELY( !fd_pb_submsg_close( enc ) ) ) return -1;

  return (long)fd_pb_encoder_out_sz( enc );
}